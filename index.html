<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APC Interactive Electrical Safety Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Industrial Safety -->
    <!-- Application Structure Plan: A task-oriented SPA with four main sections: 1) Core Principles (featuring an interactive Hierarchy of Controls), 2) Hazard Analysis (with a visualizer for Approach Boundaries), 3) an Interactive PPE Selector tool, and 4) Field Scenarios. This structure allows users to quickly access practical information (like PPE for a job) while keeping foundational knowledge easily accessible. The flow is designed for a worker needing immediate, actionable guidance, moving from broad principles to specific, task-based outputs. -->
    <!-- Visualization & Content Choices: Hierarchy of Controls -> Goal: Emphasize priority -> Method: Interactive CSS pyramid. Approach Boundaries -> Goal: Visualize safety zones -> Method: Interactive CSS concentric circles. Glove/PPE Selection -> Goal: Provide job-specific PPE list -> Method: JS-powered dropdowns that dynamically update text and a Chart.js visualization. This transforms static tables into a user-driven tool, enhancing usability and knowledge retention. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 300px; max-height: 400px; }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        .hierarchy-item:hover .hierarchy-tooltip { visibility: visible; opacity: 1; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <span class="text-2xl font-bold text-sky-600">‚ö°Ô∏è</span>
                <h1 class="text-xl font-bold text-slate-700">APC Electrical Safety</h1>
            </div>
            <div class="hidden md:flex space-x-8">
                <a href="#principles" class="text-slate-600 hover:text-sky-600 transition-colors">Principles</a>
                <a href="#hazards" class="text-slate-600 hover:text-sky-600 transition-colors">Hazards</a>
                <a href="#ppe-selector" class="text-slate-600 hover:text-sky-600 transition-colors">PPE Selector</a>
                <a href="#scenarios" class="text-slate-600 hover:text-sky-600 transition-colors">Scenarios</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="principles" class="mb-20 text-center">
            <h2 class="text-3xl font-bold mb-4">Safety First: The Core Principle</h2>
            <p class="max-w-3xl mx-auto text-slate-600 mb-12">
                All electrical work at APC is governed by one unyielding principle: the most effective safety measure is to eliminate the hazard. Personal Protective Equipment (PPE) is the final line of defense, used only when all other controls are insufficient. This section introduces the foundational mindset for all risk assessments.
            </p>
            <div class="max-w-2xl mx-auto">
                <h3 class="text-2xl font-semibold mb-6">Hierarchy of Controls</h3>
                <div id="hierarchy-visual" class="space-y-1">
                    <div class="hierarchy-item relative bg-emerald-500 text-white p-4 rounded-t-lg cursor-pointer">
                        <span class="font-bold">1. Elimination</span>
                        <div class="hierarchy-tooltip absolute bottom-full mb-2 w-64 p-3 bg-slate-800 text-white text-sm rounded-lg shadow-lg invisible opacity-0 transition-all duration-300">Physically remove the hazard. De-energize and verify an Electrically Safe Work Condition (ESWC). This is the primary goal.</div>
                    </div>
                    <div class="hierarchy-item relative bg-sky-500 text-white p-4 cursor-pointer" style="width: 90%; margin: 0 auto;">
                        <span class="font-bold">2. Substitution</span>
                        <div class="hierarchy-tooltip absolute bottom-full mb-2 w-64 p-3 bg-slate-800 text-white text-sm rounded-lg shadow-lg invisible opacity-0 transition-all duration-300">Replace the hazard with a safer alternative (e.g., use lower-voltage equipment).</div>
                    </div>
                    <div class="hierarchy-item relative bg-indigo-500 text-white p-4 cursor-pointer" style="width: 80%; margin: 0 auto;">
                        <span class="font-bold">3. Engineering Controls</span>
                         <div class="hierarchy-tooltip absolute bottom-full mb-2 w-64 p-3 bg-slate-800 text-white text-sm rounded-lg shadow-lg invisible opacity-0 transition-all duration-300">Isolate people from the hazard with barriers, guards, or remote racking devices.</div>
                    </div>
                    <div class="hierarchy-item relative bg-amber-500 text-white p-4 cursor-pointer" style="width: 70%; margin: 0 auto;">
                        <span class="font-bold">4. Administrative Controls</span>
                         <div class="hierarchy-tooltip absolute bottom-full mb-2 w-64 p-3 bg-slate-800 text-white text-sm rounded-lg shadow-lg invisible opacity-0 transition-all duration-300">Change how people work: safe procedures, training, warning signs, and LOTO.</div>
                    </div>
                    <div class="hierarchy-item relative bg-red-500 text-white p-4 rounded-b-lg cursor-pointer" style="width: 60%; margin: 0 auto;">
                        <span class="font-bold">5. Personal Protective Equipment (PPE)</span>
                         <div class="hierarchy-tooltip absolute bottom-full mb-2 w-64 p-3 bg-slate-800 text-white text-sm rounded-lg shadow-lg invisible opacity-0 transition-all duration-300">Protect the worker with personal equipment. This is the last line of defense.</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="hazards" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-4">Hazard Analysis & Boundaries</h2>
            <p class="max-w-3xl mx-auto text-slate-600 text-center mb-12">
                Effective protection starts with understanding the threats. Electrical work presents two distinct dangers: electric shock and arc flash. To manage these, we establish clear approach boundaries‚Äîinvisible lines that trigger specific safety requirements.
            </p>
            <div class="grid md:grid-cols-2 gap-8 mb-12">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold mb-3 text-sky-700">‚ö°Ô∏è Electric Shock</h3>
                    <p class="text-slate-600">Occurs when the body becomes part of a circuit. Protection is based on <strong class="font-semibold">insulation</strong>. The primary defense is voltage-rated rubber gloves.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold mb-3 text-red-700">üî• Arc Flash</h3>
                    <p class="text-slate-600">A violent plasma fireball with extreme heat and pressure. Protection is based on <strong class="font-semibold">Arc-Rated (AR) clothing</strong> to prevent severe burns.</p>
                </div>
            </div>
            
            <div class="bg-white p-8 rounded-lg shadow-lg">
                <h3 class="text-2xl font-semibold mb-6 text-center">Interactive Approach Boundaries</h3>
                <div class="flex flex-col md:flex-row items-center justify-center gap-8">
                    <div id="boundary-visual" class="relative w-80 h-80 flex items-center justify-center">
                        <div class="absolute w-80 h-80 border-2 border-dashed border-red-400 rounded-full" data-boundary="afb"></div>
                        <div class="absolute w-52 h-52 border-2 border-dashed border-amber-400 rounded-full" data-boundary="lab"></div>
                        <div class="absolute w-24 h-24 border-2 border-dashed border-sky-400 rounded-full" data-boundary="rab"></div>
                        <div class="w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-white text-2xl" title="Energized Source">‚ö°Ô∏è</div>
                    </div>
                    <div id="boundary-info" class="w-full md:w-1/2 p-4 bg-slate-100 rounded-lg min-h-[180px]">
                        <h4 id="boundary-title" class="text-lg font-bold text-slate-700">Hover over a boundary</h4>
                        <p id="boundary-text" class="text-slate-600 mt-2">Hover your mouse over one of the colored circles to learn about the safety requirements for that zone.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="ppe-selector" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-4">Interactive PPE Selector</h2>
            <p class="max-w-3xl mx-auto text-slate-600 text-center mb-12">
                Use this tool to determine the required Personal Protective Equipment for your specific task. Select the system voltage for shock protection and the required PPE Category for arc flash protection based on your Task Risk Assessment (TRA).
            </p>
            <div class="bg-white p-8 rounded-lg shadow-lg">
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div>
                        <label for="voltage-select" class="block text-sm font-medium text-slate-700 mb-2">1. Select System Voltage (for Shock Protection):</label>
                        <select id="voltage-select" class="w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500">
                            <option value="0">Select Voltage...</option>
                            <option value="500">Up to 500V</option>
                            <option value="1000">Up to 1,000V</option>
                            <option value="7500">Up to 7,500V</option>
                            <option value="17000">Up to 17,000V</option>
                            <option value="26500">Up to 26,500V</option>
                            <option value="36000">Up to 36,000V</option>
                        </select>
                    </div>
                    <div>
                        <label for="ppe-category-select" class="block text-sm font-medium text-slate-700 mb-2">2. Select Arc Flash PPE Category (from TRA):</label>
                        <select id="ppe-category-select" class="w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500">
                            <option value="0">Select Category...</option>
                            <option value="1">Category 1 (4 cal/cm¬≤)</option>
                            <option value="2">Category 2 (8 cal/cm¬≤)</option>
                            <option value="3">Category 3 (25 cal/cm¬≤)</option>
                            <option value="4">Category 4 (40 cal/cm¬≤)</option>
                        </select>
                    </div>
                </div>

                <div id="ppe-results" class="mt-8 p-6 bg-slate-50 rounded-lg border border-slate-200 hidden">
                    <h3 class="text-2xl font-semibold mb-6 text-center">Your Required PPE Ensemble</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div id="shock-ppe-result">
                            <h4 class="text-lg font-bold mb-3 text-sky-700">‚ö°Ô∏è Shock Protection</h4>
                            <ul id="shock-ppe-list" class="space-y-2 text-slate-600"></ul>
                        </div>
                        <div id="arc-flash-ppe-result">
                            <h4 class="text-lg font-bold mb-3 text-red-700">üî• Arc Flash Protection</h4>
                            <ul id="arc-flash-ppe-list" class="space-y-2 text-slate-600"></ul>
                        </div>
                    </div>
                    <div class="mt-8">
                        <h4 class="text-lg font-bold mb-3 text-center">Glove Class Voltage Ratings</h4>
                        <div class="chart-container">
                            <canvas id="gloveChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="scenarios" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-4">Field Scenarios & Application</h2>
            <p class="max-w-3xl mx-auto text-slate-600 text-center mb-12">
                Explore these common scenarios to see how the risk assessment process and PPE selection are applied to real-world tasks at APC. These examples reinforce the step-by-step process that must be followed for every energized job.
            </p>
            <div id="scenario-container" class="space-y-4">
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-white mt-20">
        <div class="container mx-auto px-6 py-8 text-center">
            <p>&copy; 2025 Arab Potash Company. All Rights Reserved.</p>
            <p class="text-sm text-slate-400 mt-2">This interactive guide is for training and reference purposes. Always follow the official, documented Task Risk Assessment (TRA) for every job.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const boundaryData = {
                afb: {
                    title: 'Arc Flash Boundary (AFB)',
                    text: 'The farthest boundary. At this distance, an unprotected worker could get a second-degree burn. Required Action: Qualified persons must wear full Arc-Rated (AR) PPE to cross.'
                },
                lab: {
                    title: 'Limited Approach Boundary',
                    text: 'The distance where a shock hazard exists. Required Action: Unqualified persons must not cross unless escorted by a qualified person.'
                },
                rab: {
                    title: 'Restricted Approach Boundary',
                    text: 'Increased risk of shock. This is the "Insulated Gloves Required" zone. Required Action: Only qualified persons wearing voltage-rated gloves and other shock PPE may cross.'
                }
            };

            const boundaryVisual = document.getElementById('boundary-visual');
            const boundaryTitle = document.getElementById('boundary-title');
            const boundaryText = document.getElementById('boundary-text');

            boundaryVisual.addEventListener('mouseover', (event) => {
                const boundaryKey = event.target.dataset.boundary;
                if (boundaryKey && boundaryData[boundaryKey]) {
                    boundaryTitle.textContent = boundaryData[boundaryKey].title;
                    boundaryText.textContent = boundaryData[boundaryKey].text;
                }
            });

            boundaryVisual.addEventListener('mouseout', () => {
                boundaryTitle.textContent = 'Hover over a boundary';
                boundaryText.textContent = 'Hover your mouse over one of the colored circles to learn about the safety requirements for that zone.';
            });

            const voltageSelect = document.getElementById('voltage-select');
            const ppeCategorySelect = document.getElementById('ppe-category-select');
            const ppeResults = document.getElementById('ppe-results');
            const shockPpeList = document.getElementById('shock-ppe-list');
            const arcFlashPpeList = document.getElementById('arc-flash-ppe-list');

            const gloveData = {
                '500': { class: 'Class 00', color: 'Beige' },
                '1000': { class: 'Class 0', color: 'Red' },
                '7500': { class: 'Class 1', color: 'White' },
                '17000': { class: 'Class 2', color: 'Yellow' },
                '26500': { class: 'Class 3', color: 'Green' },
                '36000': { class: 'Class 4', color: 'Orange' }
            };

            const arcFlashData = {
                '1': { rating: 4, items: ['AR long-sleeve shirt & pants', 'AR face shield or hood', 'AR balaclava', 'Hearing protection'] },
                '2': { rating: 8, items: ['AR long-sleeve shirt & pants', 'AR hood or face shield w/ balaclava', 'Hearing protection'] },
                '3': { rating: 25, items: ['AR arc flash suit (jacket & pants)', 'AR arc flash suit hood', 'AR gloves', 'Hearing protection'] },
                '4': { rating: 40, items: ['AR arc flash suit (jacket & pants)', 'AR arc flash suit hood', 'AR gloves', 'Hearing protection'] }
            };
            
            let gloveChart;
            const chartColors = {
                'Beige': 'rgba(245, 245, 220, 0.6)',
                'Red': 'rgba(255, 99, 132, 0.6)',
                'White': 'rgba(230, 230, 230, 0.6)',
                'Yellow': 'rgba(255, 206, 86, 0.6)',
                'Green': 'rgba(75, 192, 192, 0.6)',
                'Orange': 'rgba(255, 159, 64, 0.6)'
            };
            const chartBorderColors = {
                'Beige': 'rgb(245, 245, 220)',
                'Red': 'rgb(255, 99, 132)',
                'White': 'rgb(200, 200, 200)',
                'Yellow': 'rgb(255, 206, 86)',
                'Green': 'rgb(75, 192, 192)',
                'Orange': 'rgb(255, 159, 64)'
            };

            function createGloveChart(highlightedClass = null) {
                const ctx = document.getElementById('gloveChart').getContext('2d');
                const labels = Object.values(gloveData).map(g => g.class);
                const data = Object.keys(gloveData).map(v => parseInt(v));
                const backgroundColors = Object.values(gloveData).map(g => {
                    return g.class === highlightedClass ? chartBorderColors[g.color] : chartColors[g.color];
                });
                const borderColors = Object.values(gloveData).map(g => chartBorderColors[g.color]);

                if (gloveChart) {
                    gloveChart.destroy();
                }

                gloveChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Max Use Voltage (AC)',
                            data: data,
                            backgroundColor: backgroundColors,
                            borderColor: borderColors,
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: { display: true, text: 'Voltage (V)' }
                            },
                            x: {
                                title: { display: true, text: 'Glove Class' }
                            }
                        },
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `Max Use: ${context.parsed.y}V`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            function updatePpeResults() {
                const selectedVoltage = voltageSelect.value;
                const selectedCategory = ppeCategorySelect.value;

                if (selectedVoltage === '0' && selectedCategory === '0') {
                    ppeResults.classList.add('hidden');
                    return;
                }
                
                ppeResults.classList.remove('hidden');
                shockPpeList.innerHTML = '';
                arcFlashPpeList.innerHTML = '';
                let highlightedGloveClass = null;

                if (selectedVoltage !== '0') {
                    const glove = gloveData[selectedVoltage];
                    highlightedGloveClass = glove.class;
                    shockPpeList.innerHTML = `
                        <li><span class="font-semibold">Gloves:</span> ${glove.class} (rated for ${parseInt(selectedVoltage).toLocaleString()}V)</li>
                        <li><span class="font-semibold">Protectors:</span> Leather protectors over gloves</li>
                        <li><span class="font-semibold">Head Protection:</span> Class E Hard Hat</li>
                        <li><span class="font-semibold">Foot Protection:</span> EH-Rated Footwear</li>
                    `;
                } else {
                     shockPpeList.innerHTML = '<li>Select a voltage to see shock PPE.</li>';
                }

                if (selectedCategory !== '0') {
                    const arcFlash = arcFlashData[selectedCategory];
                    let itemsHtml = arcFlash.items.map(item => `<li>${item}</li>`).join('');
                    arcFlashPpeList.innerHTML = `
                        <li><span class="font-semibold">Minimum Arc Rating:</span> ${arcFlash.rating} cal/cm¬≤</li>
                        ${itemsHtml}
                        <li><span class="font-semibold">Base Layers:</span> Natural fibers only (e.g., cotton)</li>
                        <li><span class="font-semibold">Eye Protection:</span> ANSI Z87.1 Safety Glasses</li>
                    `;
                } else {
                    arcFlashPpeList.innerHTML = '<li>Select a PPE category to see arc flash PPE.</li>';
                }
                
                createGloveChart(highlightedGloveClass);
            }

            voltageSelect.addEventListener('change', updatePpeResults);
            ppeCategorySelect.addEventListener('change', updatePpeResults);
            
            const scenarios = [
                {
                    title: 'Low Voltage / High Risk: Troubleshooting a 480V MCC Bucket',
                    content: `
                        <p class="mb-2"><strong class="font-semibold">Task:</strong> Measure voltage at an energized 480V Motor Control Center.</p>
                        <p class="mb-2"><strong class="font-semibold">Shock Assessment:</strong> 480V system requires <strong class="text-sky-600">Class 0</strong> gloves.</p>
                        <p class="mb-2"><strong class="font-semibold">Arc Flash Assessment:</strong> Based on fault current, this is <strong class="text-red-600">PPE Category 2</strong>.</p>
                        <p class="font-semibold mt-4">Required Ensemble:</p>
                        <ul class="list-disc list-inside text-slate-600">
                            <li>8 cal/cm¬≤ AR Shirt & Pants</li>
                            <li>AR Balaclava & Face Shield</li>
                            <li>Class E Hard Hat</li>
                            <li>Class 0 Rubber Gloves w/ Leather Protectors</li>
                            <li>EH-Rated Footwear & Hearing Protection</li>
                        </ul>
                    `
                },
                {
                    title: 'High Voltage / High Risk: Racking in a 4.16kV Circuit Breaker',
                    content: `
                        <p class="mb-2"><strong class="font-semibold">Task:</strong> Rack a 4,160V circuit breaker onto an energized bus.</p>
                        <p class="mb-2"><strong class="font-semibold">Shock Assessment:</strong> 4.16kV (4,160V) system requires <strong class="text-sky-600">Class 1</strong> gloves.</p>
                        <p class="mb-2"><strong class="font-semibold">Arc Flash Assessment:</strong> Engineering study indicates 32 cal/cm¬≤, requiring <strong class="text-red-600">PPE Category 4</strong>.</p>
                        <p class="font-semibold mt-4">Required Ensemble:</p>
                        <ul class="list-disc list-inside text-slate-600">
                            <li>40 cal/cm¬≤ Arc Flash Suit (Jacket & Pants)</li>
                            <li>AR Arc Flash Hood</li>
                            <li>Class E Hard Hat</li>
                            <li>Class 1 Rubber Gloves w/ Leather Protectors</li>
                            <li>EH-Rated Footwear & Hearing Protection</li>
                        </ul>
                    `
                }
            ];

            const scenarioContainer = document.getElementById('scenario-container');
            scenarios.forEach(scenario => {
                const details = document.createElement('details');
                details.className = 'bg-white rounded-lg shadow-md overflow-hidden';
                details.innerHTML = `
                    <summary class="p-4 cursor-pointer font-semibold text-slate-700 hover:bg-slate-100 flex justify-between items-center">
                        ${scenario.title}
                        <span class="text-sky-600 transform transition-transform duration-300 group-open:rotate-180">+</span>
                    </summary>
                    <div class="p-6 border-t border-slate-200 text-slate-600">
                        ${scenario.content}
                    </div>
                `;
                details.addEventListener('toggle', function() {
                    const summary = this.querySelector('summary span');
                    summary.textContent = this.open ? '-' : '+';
                });
                scenarioContainer.appendChild(details);
            });
            
            createGloveChart();
        });
    </script>
</body>
</html>
